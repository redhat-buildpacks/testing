## Demo 1

```bash
cd ~/temp; rm -rf quarkus-hello

mvn io.quarkus.platform:quarkus-maven-plugin:3.3.2:create \
-DprojectGroupId=me.snowdrop \
-DprojectArtifactId=quarkus-hello \
-DprojectVersion=1.0 \
-Dextensions='resteasy-reactive,kubernetes,buildpack'

cd quarkus-hello

QUAY_USERNAME="ch007m+workloads_a_a"
QUAY_PASSWORD="WB1O...4QGE362O2"
docker logout quay.io
docker login -u $QUAY_USERNAME -p $QUAY_PASSWORD quay.io

pack build quay.io/ch007m/quarkus-hello --path . \
  --builder paketobuildpacks/builder-jammy-tiny:0.0.176 \
  -e BP_NATIVE_IMAGE="false" \
  -e BP_MAVEN_BUILT_ARTIFACT="target/quarkus-app/lib/ target/quarkus-app/*.jar target/quarkus-app/app/ target/quarkus-app/quarkus/" \
  -e BP_MAVEN_BUILD_ARGUMENTS="package -DskipTests=true -Dmaven.javadoc.skip=true -Dquarkus.package.type=fast-jar" \
  --volume $HOME/.m2:/home/cnb/.m2:rw \
  --publish
```

Let's pull the image

```bash
docker pull quay.io/ch007m/quarkus-hello
docker run --platform linux/amd64 -i --rm -p 8080:8080 quay.io/ch007m/quarkus-hello &
```

Test the quarkus application
```bash
http :8080/hello
#http :8080/hello/greeting/rhtap
````

## Demo 2

```bash
cd ~/temp; rm -rf nodejs-rest-http
git clone https://github.com/nodeshift-starters/nodejs-rest-http
cd nodejs-rest-http

pack build quay.io/ch007m/nodejs-pack-test \
  --path . \
  --builder paketocommunity/builder-ubi-base \
  --publish
```

Let's pull the image

```bash
docker pull quay.io/ch007m/nodejs-pack-test
docker run --platform linux/amd64 -i --rm -p 8080:8080 quay.io/ch007m/nodejs-pack-test &
```

Test the quarkus application
```bash
http :8080/api/greeting name==charles
```

## Demo 3

Use scripts:
```bash
./scripts/rhtap-demo1
./scripts/rhtap-demo2
```

## Additional commands
```bash
echo "To trigger a build"
REPO_NAME=rhtap-buildpack-demo-2
sed -i.bak "s|test-0|test-1|g" .tekton/$REPO_NAME-push.yaml
cd ../$REPO_NAME; git commit -asm "Trigger a new build: 1"; git push
```

